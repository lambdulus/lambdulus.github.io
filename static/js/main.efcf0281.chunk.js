(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,n){e.exports=n(59)},32:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(25),i=n.n(s),o=(n(32),n(20)),l=n(14),c=n(13),u=n(17),p=n(15),d=n(16),h=n(2),v=n(4),m={width:"100%",fontSize:"3em",border:"none",overflow:"auto",outline:"none",resize:"none",borderStyle:"none"};function b(e){var t=e.content,n=e.lines,a=e.onChange,s=e.caretPosition;return r.a.createElement("textarea",{style:m,onChange:a,value:t,placeholder:"(\u03bb f . (\u03bb x . f (x x)) (\u03bb x . f (x x)))",autoFocus:!0,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,rows:Math.max(n+1,2),ref:function(e){null!==e&&(e.selectionStart=s,e.selectionEnd=s)}})}var f={fontSize:"1.5em",background:"none",borderStyle:"none",borderBottom:"2px solid navy",marginLeft:"5px",marginRight:"5px",cursor:"pointer",outline:"none"};function E(e){var t=e.run,n=e.stepOver,a=e.stepIn,s=e.stepBack,i=e.canRun,o=e.canStepOver;e.canStepIn,e.canGoBack;return r.a.createElement("div",null,r.a.createElement("button",{style:f,onClick:t,disabled:!i},"RUN"),r.a.createElement("button",{style:f,onClick:n,disabled:!o},"STEP OVER"),r.a.createElement("button",{style:f,onClick:a,disabled:!0},"STEP IN"),r.a.createElement("button",{style:f,onClick:s,disabled:!0},"GO BACK"))}var g=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this))).tree=e,n.rendered=null,n.tree.visit(Object(h.a)(Object(h.a)(n))),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"printLambdaBody",value:function(e){e.body instanceof v.Lambda?this.printLambdaBody(e.body):e.body.visit(this)}},{key:"printLambdaArguments",value:function(e,t){if(e.body instanceof v.Lambda){var n=r.a.createElement("span",null,t," ",e.body.argument.name());this.printLambdaArguments(e.body,n)}else this.rendered=t}}]),Object(c.a)(t,[{key:"print",value:function(){return this.rendered}},{key:"onApplication",value:function(e){if(e.right instanceof v.Application){e.left.visit(this);var t=this.rendered;e.right.visit(this);var n=this.rendered;this.rendered=r.a.createElement("span",null,t," ( ",n," )")}else{e.left.visit(this);var a=this.rendered;e.right.visit(this);var s=this.rendered;this.rendered=r.a.createElement("span",null,a," ",s)}}},{key:"onLambda",value:function(e){if(e.body instanceof v.Lambda){this.printLambdaArguments(e,r.a.createElement("span",null,e.argument.name()));var t=this.rendered;this.printLambdaBody(e);var n=this.rendered;this.rendered=r.a.createElement("span",null,"(\u03bb ",t," . ",n," )")}else{e.argument.visit(this);var a=this.rendered;e.body.visit(this);var s=this.rendered;this.rendered=r.a.createElement("span",null,"(\u03bb ",a," . ",s," )")}}},{key:"onChurchNumber",value:function(e){this.rendered=r.a.createElement("span",null,e.name())}},{key:"onMacro",value:function(e){this.rendered=r.a.createElement("span",null,e.name())}},{key:"onVariable",value:function(e){this.rendered=r.a.createElement("span",null,e.name())}}]),t}(v.ASTVisitor),y={fontSize:"2em"};function k(e){var t=e.tree;if(null===t)return null;var n=new g(t);return r.a.createElement("span",{style:y},n.print())}var x={margin:"auto",marginTop:"5vh",width:"60%",borderBottom:"2px solid gray",padding:"10px"},O={margin:"auto",width:"60%",marginTop:"2vh"},w={position:"absolute",right:"0",top:"0",width:"18%",height:"100%",boxShadow:"-5px 0px 10px gray"},j={margin:"10px"},S=function(e){function t(e){var n;Object(l.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).run=n.run.bind(Object(h.a)(Object(h.a)(n))),n.stepOver=n.stepOver.bind(Object(h.a)(Object(h.a)(n))),n.stepIn=n.stepIn.bind(Object(h.a)(Object(h.a)(n))),n.stepBack=n.stepBack.bind(Object(h.a)(Object(h.a)(n))),n.parseExpression=n.parseExpression.bind(Object(h.a)(Object(h.a)(n))),n.onExpressionChange=n.onExpressionChange.bind(Object(h.a)(Object(h.a)(n))),n.autoSave=function(e,t){var n;return function(){for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];window.clearTimeout(n),n=window.setTimeout(function(){e.apply(void 0,r)},t)}}(n.autoSave.bind(Object(h.a)(Object(h.a)(n))),500),n.getExpressionFromURL=n.getExpressionFromURL.bind(Object(h.a)(Object(h.a)(n))),n.updateFromURL=n.updateFromURL.bind(Object(h.a)(Object(h.a)(n)));var a=n.getExpressionFromURL(),r=a.split("\n").length,s=n.parseExpression(a);return window.addEventListener("hashchange",n.updateFromURL),n.state={expression:a,lines:r,caretPosition:0,ast:s,steps:0,previousReduction:null,autoCloseParenthesis:!0,replaceBackSlash:!0},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t={run:this.run,stepOver:this.stepOver,stepIn:this.stepIn,stepBack:this.stepBack,canRun:!0,canStepOver:!0,canStepIn:!0,canGoBack:!0},n=this.state,a=n.ast,s=n.steps,i=n.expression,l=n.lines,c=n.caretPosition;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{style:x},r.a.createElement(b,{content:i,lines:l,caretPosition:c,onChange:this.onExpressionChange}),r.a.createElement("br",null),r.a.createElement(E,t),r.a.createElement("br",null),"Steps: ",s,r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement("div",{style:w},r.a.createElement("div",{style:j},r.a.createElement("span",null,"Replace \\ with \u03bb"),r.a.createElement("input",{type:"checkbox",checked:this.state.replaceBackSlash,onChange:function(t){return e.setState(Object(o.a)({},e.state,{replaceBackSlash:!e.state.replaceBackSlash}))}}),r.a.createElement("br",null),r.a.createElement("span",null,"Autocomplete parethesis"),r.a.createElement("input",{type:"checkbox",checked:this.state.autoCloseParenthesis,onChange:function(t){return e.setState(Object(o.a)({},e.state,{autoCloseParenthesis:!e.state.autoCloseParenthesis}))}}),r.a.createElement("br",null))),r.a.createElement("div",{style:O},r.a.createElement(k,{tree:a})))}},{key:"run",value:function(){var e=this.state,t=e.ast,n=e.steps,a=e.previousReduction;if(!(null===t||a instanceof v.None)){for(;;){var r=new v.NormalEvaluator(t);if(a=r.nextReduction,r.nextReduction instanceof v.None)break;t=r.perform(),n++}this.setState({ast:t,steps:n,previousReduction:a})}}},{key:"stepOver",value:function(){var e=this.state,t=e.ast,n=e.steps,a=e.previousReduction;if(!(null===t||a instanceof v.None)){var r=new v.NormalEvaluator(t);a=r.nextReduction,r.nextReduction instanceof v.None||(t=r.perform(),n++,this.setState({ast:t,steps:n,previousReduction:a}))}}},{key:"stepIn",value:function(){}},{key:"stepBack",value:function(){}},{key:"onExpressionChange",value:function(e){var t=this.state,n=t.autoCloseParenthesis,a=t.replaceBackSlash,r=e.target.value,s=r.split("\n").length,i=e.target.selectionEnd;a&&(r=r.replace(/\\/g,"\u03bb")),n&&"("===r.charAt(i-1)&&(r=r.slice(0,i)+")"+r.slice(i));var o=this.parseExpression(r);this.autoSave(r),this.setState({expression:r,lines:s,ast:o,steps:0,previousReduction:null,caretPosition:i})}},{key:"autoSave",value:function(e){var t=encodeURI(e);window.location.hash=t}},{key:"parseExpression",value:function(e){try{var t=Object(v.tokenize)(e,{lambdaLetters:["\u03bb","~"],singleLetterVars:!1}),n=Object(v.parse)(t);return console.log("successfuly parsed"),n}catch(a){return console.log("Something went wrong"),console.log(a),null}}},{key:"getExpressionFromURL",value:function(){return decodeURI(window.location.hash.substring(1))}},{key:"updateFromURL",value:function(){var e=this.state.expression,t=this.getExpressionFromURL(),n=t.split("\n").length;if(e!==t){var a=this.parseExpression(t);this.setState({expression:t,lines:n,ast:a,steps:0,previousReduction:null})}else console.log("ALREADY SYNCED")}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.efcf0281.chunk.js.map